# Multiklipper

Запуск нескольких установок Klipper+Moonraker+Fluidd в одной системе.

## Подготовка

* Установите связку Klipper+Moonraker+Fluidd с помощью скрипта KIAUH.
* Подключите все свои принтеры одновременно, сфотографируйте или как-то ещё зафиксируйте соответствие портов и принтеров, пронумеруйте их.
* По-очереди убедитесь в работоспособности своих принтеров, сохраните файлы конфигурации в
`/home/pi/klipper_config/printerN.cfg`, где `N` это цифра от `1` до `9`.

## Установка

Установка сводится к клонированию данного репозитория:

```bash
cd ~
git clone https://github.com/RushOnline/multiklipper.git
```

# Подготовка к запуску

Войдите на малину/апельсину через ssh и выполните следующие команды (может потребоваться ввод пароля, для малины это `raspberry`):

```bash
cd ~/multiklipper
```

## Добавляем принтер

Сначала необходимо присвоить принтеру номер `N` (число от 1 до 9) и создать соответствующий файл конфигурации `/home/pi/klipper_config/printerN.cfg`. После этого принтер и веб-интерфейс Fluidd может быть запущен следующей командой:

```bash
sudp ./mk add 1
```

В результате выполнения команды интерфейс должен появиться на порту 81, то есть если раньше вы в браузере набирали `http://192.168.1.111`, то для доступа к принтеру `1` необходимо набрать `http://192.168.1.111:81`. Для принтера `2` порт будет `82` и т.д. После того, как вы откроете веб-интерфейс, необходимо добавить принтер. Для этого необходимо нажать на три точки в правом верхнем углу, в появившейся панели нажать "Add another printer", в появившемся диалоге набрать `192.168.1.111:81`, нажать `SAVE`.

## Удаляем принтер

Удаление можно выполнить одной командой:

```bash
sudo ./mk rm 1
```

Будут удалены все созданные автоматически при добавлении принтера файлы. Конфигурация принтера `printerN.cfg` при этом удалена не будет.

